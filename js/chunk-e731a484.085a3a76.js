(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e731a484"],{"13d5":function(t,e,a){"use strict";var s=a("23e7"),r=a("d58f").left,i=a("a640"),n=a("2d00"),c=a("605d"),o=i("reduce"),l=!c&&n>79&&n<83;s({target:"Array",proto:!0,forced:!o||l},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},2355:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-primary"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("OrderProgress",{attrs:{step:1,title:"Cart"}}),a("div",{staticClass:"container py-4 cart-set"},[a("div",{staticClass:"h3 letter-spacing text-white text-center my-4"},[t._v("- 購物清單確認 -")]),a("div",{staticClass:"border-style mt-5 table-responsive"},[a("table",{staticClass:"table table-hover table-dark table-borderless bg-transparent mb-0"},[t._m(0),a("tbody",[t._l(t.carts,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"align-middle text-wrap"},[t._v(t._s(e.title))]),a("td",{staticClass:"align-middle"},[a("div",{staticClass:"input-group flex-nowrap d-none d-md-flex",staticStyle:{width:"160px"}},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:e.qty<=1},on:{click:function(t){e.qty-=1}}},[t._v(" - ")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control text-center border-0",attrs:{type:"text",disabled:""},domProps:{value:e.qty},on:{input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:e.qty>=10},on:{click:function(t){e.qty+=1}}},[t._v(" + ")])])]),a("span",{staticClass:"d-block d-md-none"},[t._v(" x "+t._s(e.qty))])]),a("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(e.price*e.qty))+" ")]),a("td",{staticClass:"align-middle"},[a("button",{staticClass:"btn btn-c-red",attrs:{type:"button"},on:{click:function(a){return t.openDelete(e)}}},[t._v(" 刪除 ")])])])})),a("tr",{staticClass:"border-top"},[a("td",{attrs:{colspan:"3"}}),a("td",[t._v("小計 "+t._s(t._f("currency")(t.total)))])])],2)])]),a("div",{staticClass:"d-flex justify-content-end my-4"},[a("router-link",{staticClass:"btn btn-outline-secondary mr-2",attrs:{to:"/productlist/all"}},[t._v(" ← 繼續購物 ")]),a("button",{staticClass:"btn btn-outline-c-green",attrs:{type:"button",disabled:0===t.carts.length},on:{click:t.comfirmList}},[t._v(" → 確認送出 ")])],1)]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("p",[t._v(" 確定要刪除 "),a("span",{staticClass:"font-weight-bold text-c-red"},[t._v(" "+t._s(t.cartTemp.title)+" ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-c-red",attrs:{type:"button"},on:{click:t.deleteProduct}},[t._v(" 確定刪除 ")])])])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"text-c-brown"},[a("th",{attrs:{width:"200"}},[t._v("項目")]),a("th",{attrs:{width:"100"}},[t._v("數量")]),a("th",{attrs:{width:"100"}},[t._v("金額")]),a("th",{attrs:{width:"20"}},[t._v("刪除")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-secondary"},[a("h5",{staticClass:"modal-title font-weight-bold",attrs:{id:"deleteTile"}},[t._v(" 刪除產品 ")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i=(a("d81d"),a("a9e3"),a("13d5"),a("a434"),a("99af"),a("159b"),a("b0c0"),a("2e05")),n={data:function(){return{carts:JSON.parse(localStorage.getItem("carts"))||[],cartTemp:{product:""},isLoading:!1}},components:{OrderProgress:i["a"]},computed:{total:function(){var t=0;if(0!==this.carts.length){var e=this.carts.map((function(t){return Number(t.price)*Number(t.qty)}));t=e.reduce((function(t,e){return t+e}),0)}else 0===this.carts.length&&(t=0);return t}},methods:{openDelete:function(t){this.cartTemp=t,$("#deleteModal").modal("show")},deleteProduct:function(){var t=this.carts,e=t.map((function(t){return t.id})),a=this.cartTemp.id;t.splice(e.indexOf(a),1),localStorage.setItem("carts",JSON.stringify(t)),$("#deleteModal").modal("hide"),this.$bus.$emit("message:push","成功刪除產品","success","fa-check-circle")},comfirmList:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("blanco_coffee","/cart");t.isLoading=!0;var a=t.carts.map((function(t){return{data:{product_id:t.id,qty:t.qty}}}));a.forEach((function(a){return t.$http.post(e,a)})),setTimeout((function(){t.$router.push("/customerorders"),window.scroll(0,0)}),1e3)}},created:function(){var t=this;t.$bus.$emit("navActive","cart"),t.isLoading=!0,setTimeout((function(){t.isLoading=!1}),500)},beforeDestroy:function(){var t=this,e=t.carts.map((function(t){return t.qty})).reduce((function(t,e){return t+e}),0);"customerOrders"!==t.$route.name&&(t.$bus.$emit("changeNum",e),localStorage.setItem("carts",JSON.stringify(t.carts)))}},c=n,o=a("2877"),l=Object(o["a"])(c,s,r,!1,null,null,null);e["default"]=l.exports},"2e05":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart-banner"},[a("div",{staticClass:"pay-step"},[a("div",{staticClass:"step-group d-flex justify-content-between align-items-center"},[a("div",{staticClass:"step-circle",class:{active:"1"==t.step}},[t._v("1")]),a("div",{staticClass:"step-circle",class:{active:"2"==t.step}},[t._v("2")]),a("div",{staticClass:"step-circle",class:{active:"3"==t.step}},[t._v("3")])])]),a("div",{staticClass:"cart-title"},[a("div",[t._v(t._s(t.title))])])])},r=[],i={props:["step","title"]},n=i,c=(a("76da"),a("2877")),o=Object(c["a"])(n,s,r,!1,null,"59cc66a6",null);e["a"]=o.exports},"76da":function(t,e,a){"use strict";a("8bb5")},8418:function(t,e,a){"use strict";var s=a("c04e"),r=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var n=s(e);n in t?r.f(t,n,i(0,a)):t[n]=a}},"8bb5":function(t,e,a){},"99af":function(t,e,a){"use strict";var s=a("23e7"),r=a("d039"),i=a("e8b5"),n=a("861d"),c=a("7b0b"),o=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),f=a("b622"),p=a("2d00"),b=f("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",h=p>=51||!r((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),g=u("concat"),y=function(t){if(!n(t))return!1;var e=t[b];return void 0!==e?!!e:i(t)},_=!h||!g;s({target:"Array",proto:!0,forced:_},{concat:function(t){var e,a,s,r,i,n=c(this),u=d(n,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?n:arguments[e],y(i)){if(r=o(i.length),f+r>v)throw TypeError(m);for(a=0;a<r;a++,f++)a in i&&l(u,f,i[a])}else{if(f>=v)throw TypeError(m);l(u,f++,i)}return u.length=f,u}})},a434:function(t,e,a){"use strict";var s=a("23e7"),r=a("23cb"),i=a("a691"),n=a("50c4"),c=a("7b0b"),o=a("65f0"),l=a("8418"),d=a("1dde"),u=d("splice"),f=Math.max,p=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var a,s,d,u,m,h,g=c(this),y=n(g.length),_=r(t,y),C=arguments.length;if(0===C?a=s=0:1===C?(a=0,s=y-_):(a=C-2,s=p(f(i(e),0),y-_)),y+a-s>b)throw TypeError(v);for(d=o(g,s),u=0;u<s;u++)m=_+u,m in g&&l(d,u,g[m]);if(d.length=s,a<s){for(u=_;u<y-s;u++)m=u+s,h=u+a,m in g?g[h]=g[m]:delete g[h];for(u=y;u>y-s+a;u--)delete g[u-1]}else if(a>s)for(u=y-s;u>_;u--)m=u+s-1,h=u+a-1,m in g?g[h]=g[m]:delete g[h];for(u=0;u<a;u++)g[u+_]=arguments[u+2];return g.length=y-s+a,d}})},b0c0:function(t,e,a){var s=a("83ab"),r=a("9bf2").f,i=Function.prototype,n=i.toString,c=/^\s*function ([^ (]*)/,o="name";s&&!(o in i)&&r(i,o,{configurable:!0,get:function(){try{return n.call(this).match(c)[1]}catch(t){return""}}})},d58f:function(t,e,a){var s=a("1c0b"),r=a("7b0b"),i=a("44ad"),n=a("50c4"),c=function(t){return function(e,a,c,o){s(a);var l=r(e),d=i(l),u=n(l.length),f=t?u-1:0,p=t?-1:1;if(c<2)while(1){if(f in d){o=d[f],f+=p;break}if(f+=p,t?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:u>f;f+=p)f in d&&(o=a(o,d[f],f,l));return o}};t.exports={left:c(!1),right:c(!0)}},d81d:function(t,e,a){"use strict";var s=a("23e7"),r=a("b727").map,i=a("1dde"),n=i("map");s({target:"Array",proto:!0,forced:!n},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-e731a484.085a3a76.js.map