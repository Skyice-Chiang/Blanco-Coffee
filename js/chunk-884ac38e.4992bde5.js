(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-884ac38e"],{"057f":function(t,e,i){var r=i("fc6a"),n=i("241c").f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return n(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?c(t):n(r(t))}},1276:function(t,e,i){"use strict";var r=i("d784"),n=i("44e7"),a=i("825a"),s=i("1d80"),c=i("4840"),o=i("8aa5"),u=i("50c4"),l=i("14c3"),d=i("9263"),f=i("d039"),p=[].push,g=Math.min,h=4294967295,v=!f((function(){return!RegExp(h,"y")}));r("split",2,(function(t,e,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var r=String(s(this)),a=void 0===i?h:i>>>0;if(0===a)return[];if(void 0===t)return[r];if(!n(t))return e.call(r,t,a);var c,o,u,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,v=new RegExp(t.source,f+"g");while(c=d.call(v,r)){if(o=v.lastIndex,o>g&&(l.push(r.slice(g,c.index)),c.length>1&&c.index<r.length&&p.apply(l,c.slice(1)),u=c[0].length,g=o,l.length>=a))break;v.lastIndex===c.index&&v.lastIndex++}return g===r.length?!u&&v.test("")||l.push(""):l.push(r.slice(g)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=s(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n,i):r.call(String(n),e,i)},function(t,n){var s=i(r,t,this,n,r!==e);if(s.done)return s.value;var d=a(t),f=String(this),p=c(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),y=new p(v?d:"^(?:"+d.source+")",b),C=void 0===n?h:n>>>0;if(0===C)return[];if(0===f.length)return null===l(y,f)?[f]:[];var w=0,x=0,_=[];while(x<f.length){y.lastIndex=v?x:0;var S,P=l(y,v?f:f.slice(x));if(null===P||(S=g(u(y.lastIndex+(v?0:x)),f.length))===w)x=o(f,x,m);else{if(_.push(f.slice(w,x)),_.length===C)return _;for(var O=1;O<=P.length-1;O++)if(_.push(P[O]),_.length===C)return _;x=w=S}}return _.push(f.slice(w)),_}]}),!v)},"13d5":function(t,e,i){"use strict";var r=i("23e7"),n=i("d58f").left,a=i("a640"),s=i("2d00"),c=i("605d"),o=a("reduce"),u=!c&&s>79&&s<83;r({target:"Array",proto:!0,forced:!o||u},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,i){var r=i("861d"),n=i("c6b6"),a=i("b622"),s=a("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},"746f":function(t,e,i){var r=i("428f"),n=i("5135"),a=i("e538"),s=i("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});n(e,t)||s(e,t,{value:a.f(t)})}},"7f69":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"single-bg py-5"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t.singleProduct.description?i("div",{staticClass:"container my-5 detail-main"},[i("ol",{staticClass:"breadcrumb bg-transparent letter-spacing"},[i("li",{staticClass:"breadcrumb-item"},[i("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),i("li",{staticClass:"breadcrumb-item"},[i("router-link",{attrs:{to:"/productlist/all"}},[t._v("Products")])],1),i("li",{staticClass:"breadcrumb-item active"},[t._v(t._s(t.category))])]),i("div",{staticClass:"row detail-main"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"detail-img"},[i("img",{attrs:{src:t.singleProduct.imageUrl,alt:""+t.singleProduct.title}})])]),i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"detail-content letter-spacing"},[i("h5",{staticClass:"mt-4 mt-md-0"},[i("span",{staticClass:"badge badge-secondary"},[t._v(" "+t._s(t.singleProduct.category))])]),i("div",{staticClass:"detail-title"},[t._v(t._s(t.singleProduct.title))]),i("hr",{staticClass:"bg-white"}),i("p",{staticClass:"mt-4 mb-0"},[t._v("【 商 品 說 明 】")]),i("div",{staticClass:"product-description mt-3"},[t._l(t.description,(function(e,r){return i("p",{key:r,staticClass:"mb-1"},[t._v("- "+t._s(e))])})),"咖啡豆"==t.singleProduct.category.split("-")[0]?i("span",[t._v("- "+t._s(t.singleProduct.unit))]):t._e()],2),i("div",{staticClass:"detail-price d-flex justify-content-between align-items-end mt-4 px-1"},[i("span",{staticClass:"h6 original"},[t._v("原價NT"+t._s(t._f("currency")(t.singleProduct.origin_price)))]),i("span",{staticClass:"h5 sale text-c-red font-weight-bold"},[t._v("特價NT"+t._s(t._f("currency")(t.singleProduct.price)))])]),i("div",{staticClass:"add-cart d-lg-flex justify-content-between align-items-center"},[i("div",{staticClass:"input-group my-3 mb-4 mb-lg-3"},[i("div",{staticClass:"input-group-prepend"},[i("button",{staticClass:"btn btn-primary px-4",attrs:{type:"button",disabled:1==t.num},on:{click:function(e){t.num-=1}}},[t._v(" - ")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"form-control text-center font-weight-bold",attrs:{inputmode:"numeric"},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-primary px-4",attrs:{type:"button",disabled:10==t.num},on:{click:function(e){t.num+=1}}},[t._v(" + ")])])]),i("button",{staticClass:"btn btn-primary ml-lg-4 btn-block text-nowrap",attrs:{type:"button"},on:{click:function(e){return t.addCart(t.singleProduct.title,t.singleProduct.id,t.num,t.singleProduct.price)}}},[t.cartLoading?i("i",{staticClass:"fas fa-spinner fa-spin"}):i("i",{staticClass:"fas fa-shopping-cart mr-1"}),t._v("加入購物車 ")])])])])]),i("div",{staticClass:"detail-remark mt-4 pt-4"},[i("div",{staticClass:"h5 letter-spacing font-weight-bold"},[t._v("- 相關產品 -")]),i("div",{staticClass:"detail-relative"},t._l(t.relativeProduct,(function(e,r){return i("ProductCard",{key:r,staticClass:"col-12 col-md-6 col-xl-4",attrs:{favor:t.favorId,cart:t.carts,product:e}})})),1)])]):t._e()],1)},n=[],a=(i("1276"),i("ac1f"),i("4de4"),i("a4d3"),i("e01a"),i("99af"),i("d81d"),i("a434"),i("13d5"),i("d716")),s={data:function(){return{singleProduct:{},products:[],carts:JSON.parse(localStorage.getItem("carts"))||[],favorId:JSON.parse(localStorage.getItem("favorID"))||[],isDetail:!0,isLoading:!1,cartLoading:!1,num:1,itemCategory:""}},components:{ProductCard:a["a"]},watch:{num:function(){this.num<=1?this.num=1:this.num>=10&&(this.num=10)},$route:function(){this.getProduct(this.$route.params.id),this.num=1}},computed:{category:function(){var t=this,e="",i=this.singleProduct.category.split("-")[0];return t.itemCategory=i,"咖啡豆"===i?e="Beans":"器具"===i?e="Machine":"杯子"===i&&(e="Cups"),e},description:function(){var t=this.singleProduct.description.split("-").filter((function(t,e){if(e>=1)return t}));return t},relativeProduct:function(){for(var t=[],e=[],i=this.singleProduct.category.split("-")[0],r=this.products.filter((function(t,e){if(i===t.category.split("-")[0])return t})),n=0;n<6;n++)e.push(Math.floor(Math.random()*r.length)+1);return t=r.filter((function(t,i){if(-1!==e.indexOf(i))return t})),t}},methods:{getAllProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("blanco_coffee","/products/all");t.$http.get(e).then((function(e){t.products=e.data.products.reverse()}))},getProduct:function(t){var e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("blanco_coffee","/product/").concat(t);e.isLoading=!0,e.$http.get(i).then((function(t){e.singleProduct=t.data.product,e.isLoading=!1}))},addCart:function(t,e){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=this.carts,s=a.map((function(t){return t.id})),c={title:t,id:e,qty:r,price:n};this.cartLoading=!0,-1!==s.indexOf(e)?(c.qty=a.filter((function(t){return t.id===e}))[0].qty+r,a.splice(s.indexOf(e),1),a.unshift(c)):-1===s.indexOf(e)&&a.unshift(c),this.$bus.$emit("message:push","成功加入購物車","success","fa-check-circle"),localStorage.setItem("carts",JSON.stringify(a));var o=this.carts.map((function(t){return t.qty})).reduce((function(t,e){return t+e}),0);this.$bus.$emit("changeNum",o),setTimeout((function(){i.cartLoading=!1}),1e3)}},created:function(){this.$bus.$emit("navActive",""),this.getProduct(this.$route.params.id),this.getAllProducts()}},c=s,o=i("2877"),u=Object(o["a"])(c,r,n,!1,null,null,null);e["default"]=u.exports},8418:function(t,e,i){"use strict";var r=i("c04e"),n=i("9bf2"),a=i("5c6c");t.exports=function(t,e,i){var s=r(e);s in t?n.f(t,s,a(0,i)):t[s]=i}},"99af":function(t,e,i){"use strict";var r=i("23e7"),n=i("d039"),a=i("e8b5"),s=i("861d"),c=i("7b0b"),o=i("50c4"),u=i("8418"),l=i("65f0"),d=i("1dde"),f=i("b622"),p=i("2d00"),g=f("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",m=p>=51||!n((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),y=function(t){if(!s(t))return!1;var e=t[g];return void 0!==e?!!e:a(t)},C=!m||!b;r({target:"Array",proto:!0,forced:C},{concat:function(t){var e,i,r,n,a,s=c(this),d=l(s,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?s:arguments[e],y(a)){if(n=o(a.length),f+n>h)throw TypeError(v);for(i=0;i<n;i++,f++)i in a&&u(d,f,a[i])}else{if(f>=h)throw TypeError(v);u(d,f++,a)}return d.length=f,d}})},a434:function(t,e,i){"use strict";var r=i("23e7"),n=i("23cb"),a=i("a691"),s=i("50c4"),c=i("7b0b"),o=i("65f0"),u=i("8418"),l=i("1dde"),d=l("splice"),f=Math.max,p=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var i,r,l,d,v,m,b=c(this),y=s(b.length),C=n(t,y),w=arguments.length;if(0===w?i=r=0:1===w?(i=0,r=y-C):(i=w-2,r=p(f(a(e),0),y-C)),y+i-r>g)throw TypeError(h);for(l=o(b,r),d=0;d<r;d++)v=C+d,v in b&&u(l,d,b[v]);if(l.length=r,i<r){for(d=C;d<y-r;d++)v=d+r,m=d+i,v in b?b[m]=b[v]:delete b[m];for(d=y;d>y-r+i;d--)delete b[d-1]}else if(i>r)for(d=y-r;d>C;d--)v=d+r-1,m=d+i-1,v in b?b[m]=b[v]:delete b[m];for(d=0;d<i;d++)b[d+C]=arguments[d+2];return b.length=y-r+i,l}})},a4d3:function(t,e,i){"use strict";var r=i("23e7"),n=i("da84"),a=i("d066"),s=i("c430"),c=i("83ab"),o=i("4930"),u=i("fdbf"),l=i("d039"),d=i("5135"),f=i("e8b5"),p=i("861d"),g=i("825a"),h=i("7b0b"),v=i("fc6a"),m=i("c04e"),b=i("5c6c"),y=i("7c73"),C=i("df75"),w=i("241c"),x=i("057f"),_=i("7418"),S=i("06cf"),P=i("9bf2"),O=i("d1e7"),k=i("9112"),$=i("6eeb"),N=i("5692"),I=i("f772"),j=i("d012"),E=i("90e3"),T=i("b622"),L=i("e538"),J=i("746f"),q=i("d44e"),M=i("69f3"),A=i("b727").forEach,D=I("hidden"),R="Symbol",F="prototype",U=T("toPrimitive"),B=M.set,H=M.getterFor(R),Q=Object[F],W=n.Symbol,z=a("JSON","stringify"),G=S.f,K=P.f,V=x.f,X=O.f,Y=N("symbols"),Z=N("op-symbols"),tt=N("string-to-symbol-registry"),et=N("symbol-to-string-registry"),it=N("wks"),rt=n.QObject,nt=!rt||!rt[F]||!rt[F].findChild,at=c&&l((function(){return 7!=y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,i){var r=G(Q,e);r&&delete Q[e],K(t,e,i),r&&t!==Q&&K(Q,e,r)}:K,st=function(t,e){var i=Y[t]=y(W[F]);return B(i,{type:R,tag:t,description:e}),c||(i.description=e),i},ct=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},ot=function(t,e,i){t===Q&&ot(Z,e,i),g(t);var r=m(e,!0);return g(i),d(Y,r)?(i.enumerable?(d(t,D)&&t[D][r]&&(t[D][r]=!1),i=y(i,{enumerable:b(0,!1)})):(d(t,D)||K(t,D,b(1,{})),t[D][r]=!0),at(t,r,i)):K(t,r,i)},ut=function(t,e){g(t);var i=v(e),r=C(i).concat(gt(i));return A(r,(function(e){c&&!dt.call(i,e)||ot(t,e,i[e])})),t},lt=function(t,e){return void 0===e?y(t):ut(y(t),e)},dt=function(t){var e=m(t,!0),i=X.call(this,e);return!(this===Q&&d(Y,e)&&!d(Z,e))&&(!(i||!d(this,e)||!d(Y,e)||d(this,D)&&this[D][e])||i)},ft=function(t,e){var i=v(t),r=m(e,!0);if(i!==Q||!d(Y,r)||d(Z,r)){var n=G(i,r);return!n||!d(Y,r)||d(i,D)&&i[D][r]||(n.enumerable=!0),n}},pt=function(t){var e=V(v(t)),i=[];return A(e,(function(t){d(Y,t)||d(j,t)||i.push(t)})),i},gt=function(t){var e=t===Q,i=V(e?Z:v(t)),r=[];return A(i,(function(t){!d(Y,t)||e&&!d(Q,t)||r.push(Y[t])})),r};if(o||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=E(t),i=function(t){this===Q&&i.call(Z,t),d(this,D)&&d(this[D],e)&&(this[D][e]=!1),at(this,e,b(1,t))};return c&&nt&&at(Q,e,{configurable:!0,set:i}),st(e,t)},$(W[F],"toString",(function(){return H(this).tag})),$(W,"withoutSetter",(function(t){return st(E(t),t)})),O.f=dt,P.f=ot,S.f=ft,w.f=x.f=pt,_.f=gt,L.f=function(t){return st(T(t),t)},c&&(K(W[F],"description",{configurable:!0,get:function(){return H(this).description}}),s||$(Q,"propertyIsEnumerable",dt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!o,sham:!o},{Symbol:W}),A(C(it),(function(t){J(t)})),r({target:R,stat:!0,forced:!o},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var i=W(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!ct(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!o,sham:!c},{create:lt,defineProperty:ot,defineProperties:ut,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:pt,getOwnPropertySymbols:gt}),r({target:"Object",stat:!0,forced:l((function(){_.f(1)}))},{getOwnPropertySymbols:function(t){return _.f(h(t))}}),z){var ht=!o||l((function(){var t=W();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))}));r({target:"JSON",stat:!0,forced:ht},{stringify:function(t,e,i){var r,n=[t],a=1;while(arguments.length>a)n.push(arguments[a++]);if(r=e,(p(e)||void 0!==t)&&!ct(t))return f(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ct(e))return e}),n[1]=e,z.apply(null,n)}})}W[F][U]||k(W[F],U,W[F].valueOf),q(W,R),j[D]=!0},b474:function(t,e,i){"use strict";i("cbaa")},cbaa:function(t,e,i){},d58f:function(t,e,i){var r=i("1c0b"),n=i("7b0b"),a=i("44ad"),s=i("50c4"),c=function(t){return function(e,i,c,o){r(i);var u=n(e),l=a(u),d=s(u.length),f=t?d-1:0,p=t?-1:1;if(c<2)while(1){if(f in l){o=l[f],f+=p;break}if(f+=p,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=p)f in l&&(o=i(o,l[f],f,u));return o}};t.exports={left:c(!1),right:c(!0)}},d716:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"product-card sale"},[i("div",{staticClass:"star",on:{click:function(e){return t.addFavor(t.product.id)}}},[-1!==t.favor.indexOf(t.product.id)?i("i",{staticClass:"fas fa-star"}):i("i",{staticClass:"far fa-star"})]),i("router-link",{staticClass:"no-underline",attrs:{to:"/singleProduct/"+t.product.id},nativeOn:{click:function(e){return t.scrollTop(e)}}},[i("div",{staticClass:"sale-text"},[t._v("特價中")]),i("div",{staticClass:"product-img"},[i("img",{attrs:{src:t.product.imageUrl,alt:""+t.product.title}})]),i("div",{staticClass:"product-title"},[t._v(t._s(t.product.title))]),i("div",{staticClass:"product-price"},[i("p",{staticClass:"delete mb-0"},[i("small",[t._v("NT "+t._s(t._f("currency")(t.product.origin_price)))])]),i("p",{staticClass:"mb-0 text-secondary"},[t._v(" 特價 NT "+t._s(t._f("currency")(t.product.price))+" ")])])]),i("div",{staticClass:"product-footer text-center"},[i("a",{staticClass:"btn btn-block text-white",on:{click:function(e){return t.addCart(t.product.title,t.product.id,1,t.product.price)}}},[t.isLoading?i("i",{staticClass:"fas fa-spinner fa-spin"}):i("i",{staticClass:"fas fa-shopping-cart mr-1"}),t._v(" 加入購物車 ")])])],1)])},n=[],a=(i("d81d"),i("4de4"),i("a434"),i("13d5"),{props:["product","cart","favor"],data:function(){return{isLoading:!1}},methods:{addCart:function(t,e){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=this.cart,s=a.map((function(t){return t.id})),c={title:t,id:e,qty:r,price:n};this.isLoading=!0,-1!==s.indexOf(e)?(c.qty=a.filter((function(t){return t.id===e}))[0].qty+1,a.splice(s.indexOf(e),1),a.unshift(c)):-1===s.indexOf(e)&&a.unshift(c),this.$bus.$emit("message:push","成功加入購物車","success","fa-check-circle"),localStorage.setItem("carts",JSON.stringify(a));var o=this.cart.map((function(t){return t.qty})).reduce((function(t,e){return t+e}),0);this.$bus.$emit("changeNum",o),setTimeout((function(){i.isLoading=!1}),1e3)},addFavor:function(t){var e=this.favor,i=e.indexOf(t);-1===i?e.unshift(t):e.splice(i,1),localStorage.setItem("favorID",JSON.stringify(e)),this.$bus.$emit("favorChange",JSON.parse(localStorage.getItem("favorID")))},scrollTop:function(){window.scroll(0,0)}}}),s=a,c=(i("b474"),i("2877")),o=Object(c["a"])(s,r,n,!1,null,"16ad8e32",null);e["a"]=o.exports},d81d:function(t,e,i){"use strict";var r=i("23e7"),n=i("b727").map,a=i("1dde"),s=a("map");r({target:"Array",proto:!0,forced:!s},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,i){"use strict";var r=i("23e7"),n=i("83ab"),a=i("da84"),s=i("5135"),c=i("861d"),o=i("9bf2").f,u=i("e893"),l=a.Symbol;if(n&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};u(f,l);var p=f.prototype=l.prototype;p.constructor=f;var g=p.toString,h="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;o(p,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=g.call(t);if(s(d,t))return"";var i=h?e.slice(7,-1):e.replace(v,"$1");return""===i?void 0:i}}),r({global:!0,forced:!0},{Symbol:f})}},e538:function(t,e,i){var r=i("b622");e.f=r}}]);
//# sourceMappingURL=chunk-884ac38e.4992bde5.js.map