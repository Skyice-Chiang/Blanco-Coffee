(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1746c6c"],{"08e7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg-c-red"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._m(0),i("div",{staticClass:"container-fluid py-5 px-md-5"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-3 d-inline-block mb-4 mb-lg-0"},[i("div",{staticClass:"product-side"},[i("ul",{staticClass:"productlist letter-spacing"},[i("li",{on:{click:t.addActive}},[i("router-link",{staticClass:"font-weight-bold all-size",class:{active:"all"===t.isActive},attrs:{to:"/productlist/all"}},[i("div",{staticClass:"icon-align"},[i("i",{staticClass:"fab fa-product-hunt"})]),t._v(" 全部商品 ")])],1),i("li",{staticClass:"second-menu",attrs:{"data-menu":"0"},on:{click:function(e){t.isActive="bean"}}},[i("router-link",{staticClass:"font-weight-bold d-flex justify-content-between align-items-center",class:{active:"bean"===t.isActive},attrs:{to:"/productlist/bean"}},[i("span",[i("div",{staticClass:"icon-align"},[i("i",{staticClass:"fas fa-tablets "})]),t._v(" 咖啡豆系列 ")]),i("i",{staticClass:"fas fa-caret-down caret-size",class:{active:t.isRotate.bean}})]),i("ul",{staticClass:"dropdown",on:{click:t.addActive}},[i("li",[i("router-link",{attrs:{to:"/productlist/bean-deep"}},[t._v("深焙")])],1),i("li",[i("router-link",{attrs:{to:"/productlist/bean-middledeep"}},[t._v("中深焙")])],1),i("li",[i("router-link",{attrs:{to:"/productlist/bean-middle"}},[t._v("中焙")])],1),i("li",[i("router-link",{attrs:{to:"/productlist/bean-light"}},[t._v("淺焙")])],1)])],1),i("li",{staticClass:"second-menu",attrs:{"data-menu":"1"},on:{click:function(e){t.isActive="cup"}}},[i("router-link",{staticClass:"font-weight-bold d-flex justify-content-between align-items-center",class:{active:"cup"===t.isActive},attrs:{to:"/productlist/cup"}},[i("span",[i("div",{staticClass:"icon-align"},[i("i",{staticClass:"fas fa-coffee"})]),t._v(" 杯子系列 ")]),i("i",{staticClass:"fas fa-caret-down caret-size",class:{active:t.isRotate.cup}})]),i("ul",{staticClass:"dropdown",on:{click:t.addActive}},[i("li",[i("router-link",{attrs:{to:"/productlist/cup-group"}},[t._v("咖啡杯組")])],1),i("li",[i("router-link",{attrs:{to:"/productlist/cup-mental"}},[t._v("鋼杯")])],1)])],1),i("li",{staticClass:"second-menu",attrs:{"data-menu":"2"},on:{click:function(e){t.isActive="machine"}}},[i("router-link",{staticClass:"font-weight-bold d-flex justify-content-between align-items-center",class:{active:"machine"===t.isActive},attrs:{to:"/productlist/machine"}},[i("span",[i("div",{staticClass:"icon-align"},[i("i",{staticClass:"fas fa-cog"})]),t._v(" 器具系列 ")]),i("i",{staticClass:"fas fa-caret-down caret-size",class:{active:t.isRotate.machine}})]),i("ul",{staticClass:"dropdown",on:{click:t.addActive}},[i("li",[i("router-link",{attrs:{to:"/productlist/machine-hand"}},[t._v("手沖/研磨")])],1),i("li",[i("router-link",{attrs:{to:"/productlist/machine-halfauto"}},[t._v("半自動")])],1),i("li",[i("router-link",{attrs:{to:"/productlist/machine-auto"}},[t._v("全自動")])],1)])],1)])])]),i("div",{staticClass:"col-lg-9"},[i("div",{staticClass:"row product-area"},t._l(t.currentProduct,(function(e,a){return i("ProductCard",{key:a,staticClass:"col-12 col-sm-6 col-xl-4",attrs:{favor:t.favorId,cart:t.carts,product:e}})})),1),i("div",{staticClass:"d-flex justify-content-center mt-4"},[i("Pagination",{attrs:{page:t.pagination},on:{update:t.switchPage}})],1)])])])],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-banner"},[i("div",{staticClass:"text-sale letter-spacing"},[i("div",{staticClass:"h2 font-weight-bold"},[t._v("正逢週年慶，全館打折")]),i("div",{staticClass:"h5"},[t._v(" 輸入優惠碼 "),i("span",{staticClass:"text-secondary font-weight-bold"},[t._v("blanco222")]),i("span",{staticClass:"breakpoints"},[t._v("即享有六折優惠")])])])])}],s=(i("4de4"),i("1276"),i("ac1f"),i("7db0"),i("99af"),i("159b"),i("a9e3"),i("d716")),r=i("1799"),c={data:function(){return{products:[],carts:JSON.parse(localStorage.getItem("carts"))||[],favorId:JSON.parse(localStorage.getItem("favorID"))||[],pagination:{current_page:1,has_next:!0,has_pre:!1,total_pages:1},isLoading:!1,isActive:"all",isRotate:{bean:!1,cup:!1,machine:!1},filterTarget:""}},components:{ProductCard:s["a"],Pagination:r["a"]},watch:{$route:function(){this.filterTarget=this.$route.params.id,this.pagination.current_page=1,this.pagination.has_next=!0,this.pagination.has_pre=!1}},computed:{currentProduct:function(){var t=this,e=[],i=t.filterTarget,a=t.pagination.current_page,n=t.products.filter((function(t){var e=t.category.split("-");if("all"===i)return t;if("bean"===i){if("咖啡豆"===e[0])return t}else if("cup"===i){if("杯子"===e[0])return t}else if("machine"===i){if("器具"===e[0])return t}else if("bean-deep"===i){if("深"===e[1])return t}else if("bean-middledeep"===i){if("中深"===e[1])return t}else if("bean-middle"===i){if("中"===e[1])return t}else if("bean-light"===i){if("淺"===e[1])return t}else if("cup-group"===i){if("咖啡杯組"===e[1])return t}else if("cup-mental"===i){if("鋼杯"===e[1])return t}else if("machine-hand"===i){if("手動"===e[1])return t}else if("machine-halfauto"===i){if("半自動"===e[1])return t}else if("machine-auto"===i&&"全自動"===e[1])return t}));return t.pagination.total_pages=Math.ceil(n.length/6),e=n.filter((function(t,e){return e>=6*a-6&&e<=6*a-1})),e}},methods:{addActive:function(t){var e=t.target;if(" 全部商品"===e.innerText)this.isActive="all",$(e).parents(".productlist").find("a").removeClass("active");else{var i=$(e).parents(".second-menu")[0].dataset.menu;$(e).addClass("active").parent().siblings().find("a").removeClass("active").parents().siblings().find(".dropdown a").removeClass("active"),0===i?this.isActive="bean":1===i?this.isActive="cup":2===i&&(this.isActive="machine")}},getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("blanco_coffee","/products/all");t.isLoading=!0,t.$http.get(e).then((function(e){t.products=e.data.products.reverse(),t.isLoading=!1}))},switchPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.pagination={current_page:t,has_next:this.pagination.total_pages>t,has_pre:this.pagination.total_pages-t<this.pagination.total_pages-1,total_pages:this.pagination.total_pages},window.scroll(0,0)}},created:function(){this.getProducts(),this.filterTarget=this.$route.params.id,this.$bus.$emit("navActive","productlist")},mounted:function(){var t=this,e=document.querySelectorAll(".dropdown");$(".second-menu").click((function(i){var a=i.currentTarget.dataset.menu,n=$(i.target).parent()[0].innerText;i.preventDefault(),"I"===i.target.nodeName&&(" 咖啡豆系列"===n?t.isRotate.bean=!t.isRotate.bean:" 杯子系列"===n?t.isRotate.cup=!t.isRotate.cup:" 器具系列"===n&&(t.isRotate.machine=!t.isRotate.machine),e.forEach((function(t,e){e===Number(a)&&$(t).slideToggle()})))}))}},o=c,l=i("2877"),u=Object(l["a"])(o,a,n,!1,null,null,null);e["default"]=u.exports},1276:function(t,e,i){"use strict";var a=i("d784"),n=i("44e7"),s=i("825a"),r=i("1d80"),c=i("4840"),o=i("8aa5"),l=i("50c4"),u=i("14c3"),d=i("9263"),f=i("d039"),p=[].push,v=Math.min,g=4294967295,h=!f((function(){return!RegExp(g,"y")}));a("split",2,(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=String(r(this)),s=void 0===i?g:i>>>0;if(0===s)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,s);var c,o,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,h=new RegExp(t.source,f+"g");while(c=d.call(h,a)){if(o=h.lastIndex,o>v&&(u.push(a.slice(v,c.index)),c.length>1&&c.index<a.length&&p.apply(u,c.slice(1)),l=c[0].length,v=o,u.length>=s))break;h.lastIndex===c.index&&h.lastIndex++}return v===a.length?!l&&h.test("")||u.push(""):u.push(a.slice(v)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n,i):a.call(String(n),e,i)},function(t,n){var r=i(a,t,this,n,a!==e);if(r.done)return r.value;var d=s(t),f=String(this),p=c(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),_=new p(h?d:"^(?:"+d.source+")",b),C=void 0===n?g:n>>>0;if(0===C)return[];if(0===f.length)return null===u(_,f)?[f]:[];var x=0,w=0,k=[];while(w<f.length){_.lastIndex=h?w:0;var y,A=u(_,h?f:f.slice(w));if(null===A||(y=v(l(_.lastIndex+(h?0:w)),f.length))===x)w=o(f,w,m);else{if(k.push(f.slice(x,w)),k.length===C)return k;for(var $=1;$<=A.length-1;$++)if(k.push(A[$]),k.length===C)return k;w=x=y}}return k.push(f.slice(x)),k}]}),!h)},"13d5":function(t,e,i){"use strict";var a=i("23e7"),n=i("d58f").left,s=i("a640"),r=i("2d00"),c=i("605d"),o=s("reduce"),l=!c&&r>79&&r<83;a({target:"Array",proto:!0,forced:!o||l},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1799:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"pagination"},[i("li",[i("a",{staticClass:"prev",class:{disabled:!t.page.has_pre},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.page.current_page-1)}}},[t._v(" ＜ ")])]),t._l(t.page.total_pages,(function(e,a){return i("li",{key:a},[i("a",{class:{active:t.page.current_page==e},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.updatePage(e)}}},[t._v(" "+t._s(e)+" ")])])})),i("li",[i("a",{class:{disabled:!t.page.has_next},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.page.current_page+1)}}},[t._v(" ＞ ")])])],2)])},n=[],s={props:["page"],methods:{updatePage:function(t){this.$emit("update",t)}}},r=s,c=(i("6e80"),i("2877")),o=Object(c["a"])(r,a,n,!1,null,"6496e6cf",null);e["a"]=o.exports},"44e7":function(t,e,i){var a=i("861d"),n=i("c6b6"),s=i("b622"),r=s("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},"6e80":function(t,e,i){"use strict";i("a19c")},"7db0":function(t,e,i){"use strict";var a=i("23e7"),n=i("b727").find,s=i("44d2"),r="find",c=!0;r in[]&&Array(1)[r]((function(){c=!1})),a({target:"Array",proto:!0,forced:c},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},8418:function(t,e,i){"use strict";var a=i("c04e"),n=i("9bf2"),s=i("5c6c");t.exports=function(t,e,i){var r=a(e);r in t?n.f(t,r,s(0,i)):t[r]=i}},"99af":function(t,e,i){"use strict";var a=i("23e7"),n=i("d039"),s=i("e8b5"),r=i("861d"),c=i("7b0b"),o=i("50c4"),l=i("8418"),u=i("65f0"),d=i("1dde"),f=i("b622"),p=i("2d00"),v=f("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",m=p>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),b=d("concat"),_=function(t){if(!r(t))return!1;var e=t[v];return void 0!==e?!!e:s(t)},C=!m||!b;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,i,a,n,s,r=c(this),d=u(r,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?r:arguments[e],_(s)){if(n=o(s.length),f+n>g)throw TypeError(h);for(i=0;i<n;i++,f++)i in s&&l(d,f,s[i])}else{if(f>=g)throw TypeError(h);l(d,f++,s)}return d.length=f,d}})},a19c:function(t,e,i){},a434:function(t,e,i){"use strict";var a=i("23e7"),n=i("23cb"),s=i("a691"),r=i("50c4"),c=i("7b0b"),o=i("65f0"),l=i("8418"),u=i("1dde"),d=u("splice"),f=Math.max,p=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var i,a,u,d,h,m,b=c(this),_=r(b.length),C=n(t,_),x=arguments.length;if(0===x?i=a=0:1===x?(i=0,a=_-C):(i=x-2,a=p(f(s(e),0),_-C)),_+i-a>v)throw TypeError(g);for(u=o(b,a),d=0;d<a;d++)h=C+d,h in b&&l(u,d,b[h]);if(u.length=a,i<a){for(d=C;d<_-a;d++)h=d+a,m=d+i,h in b?b[m]=b[h]:delete b[m];for(d=_;d>_-a+i;d--)delete b[d-1]}else if(i>a)for(d=_-a;d>C;d--)h=d+a-1,m=d+i-1,h in b?b[m]=b[h]:delete b[m];for(d=0;d<i;d++)b[d+C]=arguments[d+2];return b.length=_-a+i,u}})},b474:function(t,e,i){"use strict";i("cbaa")},cbaa:function(t,e,i){},d58f:function(t,e,i){var a=i("1c0b"),n=i("7b0b"),s=i("44ad"),r=i("50c4"),c=function(t){return function(e,i,c,o){a(i);var l=n(e),u=s(l),d=r(l.length),f=t?d-1:0,p=t?-1:1;if(c<2)while(1){if(f in u){o=u[f],f+=p;break}if(f+=p,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=p)f in u&&(o=i(o,u[f],f,l));return o}};t.exports={left:c(!1),right:c(!0)}},d716:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"product-card sale"},[i("div",{staticClass:"star",on:{click:function(e){return t.addFavor(t.product.id)}}},[-1!==t.favor.indexOf(t.product.id)?i("i",{staticClass:"fas fa-star"}):i("i",{staticClass:"far fa-star"})]),i("router-link",{staticClass:"no-underline",attrs:{to:"/singleProduct/"+t.product.id},nativeOn:{click:function(e){return t.scrollTop(e)}}},[i("div",{staticClass:"sale-text"},[t._v("特價中")]),i("div",{staticClass:"product-img"},[i("img",{attrs:{src:t.product.imageUrl,alt:""+t.product.title}})]),i("div",{staticClass:"product-title"},[t._v(t._s(t.product.title))]),i("div",{staticClass:"product-price"},[i("p",{staticClass:"delete mb-0"},[i("small",[t._v("NT "+t._s(t._f("currency")(t.product.origin_price)))])]),i("p",{staticClass:"mb-0 text-secondary"},[t._v(" 特價 NT "+t._s(t._f("currency")(t.product.price))+" ")])])]),i("div",{staticClass:"product-footer text-center"},[i("a",{staticClass:"btn btn-block text-white",on:{click:function(e){return t.addCart(t.product.title,t.product.id,1,t.product.price)}}},[t.isLoading?i("i",{staticClass:"fas fa-spinner fa-spin"}):i("i",{staticClass:"fas fa-shopping-cart mr-1"}),t._v(" 加入購物車 ")])])],1)])},n=[],s=(i("d81d"),i("4de4"),i("a434"),i("13d5"),{props:["product","cart","favor"],data:function(){return{isLoading:!1}},methods:{addCart:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,s=this.cart,r=s.map((function(t){return t.id})),c={title:t,id:e,qty:a,price:n};this.isLoading=!0,-1!==r.indexOf(e)?(c.qty=s.filter((function(t){return t.id===e}))[0].qty+1,s.splice(r.indexOf(e),1),s.unshift(c)):-1===r.indexOf(e)&&s.unshift(c),this.$bus.$emit("message:push","成功加入購物車","success","fa-check-circle"),localStorage.setItem("carts",JSON.stringify(s));var o=this.cart.map((function(t){return t.qty})).reduce((function(t,e){return t+e}),0);this.$bus.$emit("changeNum",o),setTimeout((function(){i.isLoading=!1}),1e3)},addFavor:function(t){var e=this.favor,i=e.indexOf(t);-1===i?e.unshift(t):e.splice(i,1),localStorage.setItem("favorID",JSON.stringify(e)),this.$bus.$emit("favorChange",JSON.parse(localStorage.getItem("favorID")))},scrollTop:function(){window.scroll(0,0)}}}),r=s,c=(i("b474"),i("2877")),o=Object(c["a"])(r,a,n,!1,null,"16ad8e32",null);e["a"]=o.exports},d81d:function(t,e,i){"use strict";var a=i("23e7"),n=i("b727").map,s=i("1dde"),r=s("map");a({target:"Array",proto:!0,forced:!r},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-e1746c6c.c90ec80d.js.map