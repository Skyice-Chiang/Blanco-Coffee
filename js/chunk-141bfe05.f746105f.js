(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-141bfe05"],{"2e05":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cart-banner"},[e("div",{staticClass:"pay-step"},[e("div",{staticClass:"step-group d-flex justify-content-between align-items-center"},[e("div",{staticClass:"step-circle",class:{active:"1"==t.step}},[t._v("1")]),e("div",{staticClass:"step-circle",class:{active:"2"==t.step}},[t._v("2")]),e("div",{staticClass:"step-circle",class:{active:"3"==t.step}},[t._v("3")])])]),e("div",{staticClass:"cart-title"},[e("div",[t._v(t._s(t.title))])])])},r=[],i={props:["step","title"]},c=i,n=(e("76da"),e("2877")),o=Object(n["a"])(c,a,r,!1,null,"59cc66a6",null);s["a"]=o.exports},4304:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bg-primary"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),e("OrderProgress",{attrs:{step:3,title:"Payment"}}),e("div",{staticClass:"container"},[e("div",{staticClass:"row py-5 justify-content-center mx-2 mx-md-0"},[e("form",{staticClass:"col-md-9 border-style p-4",on:{submit:function(s){return s.preventDefault(),t.payOrder(s)}}},[t._m(0),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table mb-3 bg-transparent text-white"},[t._m(1),e("tbody",[t._l(t.order.products,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),e("td",{staticClass:"align-middle"},[t._v("x "+t._s(s.qty))]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(s.final_total))+" ")])])})),e("tr",[e("td",{staticClass:"text-right font-weight-bold",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-right font-weight-bold"},[t._v(" "+t._s(t._f("currency")(t.order.total))+" ")])])],2)])]),t._m(2),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table bg-transparent text-white mb-0"},[e("tbody",[e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人信箱")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款方式")]),e("td",[t._v(t._s(t.order.user.pay))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right mt-4"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"}},[t._v("確認付款去")])]):t._e()])])]),e("div",{staticClass:"modal fade",attrs:{id:"checkmodal"}},[e("div",{staticClass:"modal-dialog check-pos"},[e("div",{staticClass:"modal-content check-space d-flex flex-column align-items-center"},[e("CheckState",{attrs:{state:"success"}}),e("div",{staticClass:"m-3 text-success font-weight-bold"},[t._v(t._s(t.payState))]),e("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Index"},"data-dismiss":"modal"},nativeOn:{click:function(s){return t.scrollTop(s)}}},[t._v("回首頁再逛逛吧")])],1)])])],1)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"h5 text-secondary mb-3"},[e("i",{staticClass:"fas fa-clipboard-list mr-2"}),t._v("訂單明細 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("項目")]),e("th",[t._v("數量")]),e("th",[t._v("金額")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"h5 text-secondary mb-3"},[e("i",{staticClass:"fas fa-pen mr-2"}),t._v("收件人資訊 ")])}],i=(e("99af"),e("2e05")),c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"check-area"},["success"===t.state?e("div",{staticClass:"mark-icon"},[e("span",{staticClass:"mark-line mark-tip"}),e("span",{staticClass:"mark-line mark-long"}),e("div",{staticClass:"mark-circle"}),e("div",{staticClass:"mark-fix"})]):t._e()])},n=[],o={props:["state"]},l=o,d=(e("b711"),e("2877")),u=Object(d["a"])(l,c,n,!1,null,"4d558f14",null),v=u.exports,f={data:function(){return{order:{user:{},total:0},orderId:"",isLoading:!1,payState:""}},components:{OrderProgress:i["a"],CheckState:v},methods:{getOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("blanco_coffee","/order/").concat(t.orderId);t.isLoading=!0,t.$http.get(s).then((function(s){s.data.success&&(t.order=s.data.order,t.isLoading=!1)}))},payOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("blanco_coffee","/pay/").concat(t.orderId);t.$http.post(s).then((function(s){s.data.success&&(t.payState=s.data.message,$("#checkmodal").modal("show"),t.getOrder())}))},scrollTop:function(){window.scroll(0,0)}},created:function(){this.orderId=this.$route.params.id,this.getOrder()}},p=f,_=(e("4c90"),Object(d["a"])(p,a,r,!1,null,"6d474966",null));s["default"]=_.exports},"4c90":function(t,s,e){"use strict";e("bb57")},"76da":function(t,s,e){"use strict";e("8bb5")},8418:function(t,s,e){"use strict";var a=e("c04e"),r=e("9bf2"),i=e("5c6c");t.exports=function(t,s,e){var c=a(s);c in t?r.f(t,c,i(0,e)):t[c]=e}},"8bb5":function(t,s,e){},"99af":function(t,s,e){"use strict";var a=e("23e7"),r=e("d039"),i=e("e8b5"),c=e("861d"),n=e("7b0b"),o=e("50c4"),l=e("8418"),d=e("65f0"),u=e("1dde"),v=e("b622"),f=e("2d00"),p=v("isConcatSpreadable"),_=9007199254740991,h="Maximum allowed index exceeded",m=f>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=u("concat"),C=function(t){if(!c(t))return!1;var s=t[p];return void 0!==s?!!s:i(t)},g=!m||!b;a({target:"Array",proto:!0,forced:g},{concat:function(t){var s,e,a,r,i,c=n(this),u=d(c,0),v=0;for(s=-1,a=arguments.length;s<a;s++)if(i=-1===s?c:arguments[s],C(i)){if(r=o(i.length),v+r>_)throw TypeError(h);for(e=0;e<r;e++,v++)e in i&&l(u,v,i[e])}else{if(v>=_)throw TypeError(h);l(u,v++,i)}return u.length=v,u}})},b711:function(t,s,e){"use strict";e("f485")},bb57:function(t,s,e){},f485:function(t,s,e){}}]);
//# sourceMappingURL=chunk-141bfe05.f746105f.js.map